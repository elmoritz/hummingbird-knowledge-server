# hummingbird-knowledge-server — environment configuration
# ─────────────────────────────────────────────────────────
# Copy to .env and edit. The .env file is gitignored.
#
# The server detects its mode automatically:
#   Local mode:  MCP_AUTH_TOKEN is not set → no auth, binds to 127.0.0.1
#   Hosted mode: MCP_AUTH_TOKEN is set     → auth required, binds to 0.0.0.0

# ── Shared (both modes) ────────────────────────────────────────────────────────

PORT=8080
LOG_LEVEL=info

# MCP transport protocol: sse (Server-Sent Events), http (HTTP streaming), or both
# Default: sse
# TRANSPORT=sse

# How often to check for new Hummingbird releases and SSWG package updates (seconds)
KNOWLEDGE_UPDATE_INTERVAL=3600

# Optional: raises GitHub API rate limit from 60 to 5,000 requests/hr
# Recommended for hosted deployments where the update service runs continuously
# GITHUB_TOKEN=ghp_your_token_here


# ── Local mode (defaults — no changes needed for local use) ───────────────────

# HOST defaults to 127.0.0.1 in local mode — loopback only, not reachable externally
# Uncomment only if you need local network access (e.g. testing from another device)
# HOST=0.0.0.0


# ── Hosted mode (set these when deploying publicly) ───────────────────────────

# Setting MCP_AUTH_TOKEN switches the server into hosted mode:
#   - HOST defaults to 0.0.0.0 (all interfaces)
#   - All /mcp requests require: Authorization: Bearer <token>
#   - Rate limiting is enabled (RATE_LIMIT_PER_MINUTE)
#
# Generate a strong token: openssl rand -hex 32
# MCP_AUTH_TOKEN=your_strong_secret_token_here

# Maximum MCP requests per client IP per minute (hosted mode only)
# RATE_LIMIT_PER_MINUTE=60
